---
layout: default
---

<article class="post max-w-4xl mx-auto">
  <!-- Post Header -->
  <header class="mb-6 md:mb-8">
    {% comment %} Breadcrumb {% endcomment %}
    {% if page.parent_category %}
      {% assign parent = site.data.parent_categories.parent_categories | where: "id", page.parent_category | first %}
      <nav class="breadcrumb flex items-center gap-2 text-sm text-muted-foreground mb-3">
        <a href="{{ '/category/' | append: page.parent_category | append: '/' | relative_url }}" class="hover:text-primary transition-colors no-underline">
          {{ parent.icon }} {{ parent.name_kr }}
        </a>
        {% if page.category %}
          {% assign cat = site.data.categories.categories | where: "id", page.category | first %}
          {% if cat %}
          <span>›</span>
          <a href="{{ '/category/' | append: page.category | append: '/' | relative_url }}" class="hover:text-primary transition-colors no-underline">
            {{ cat.name_kr }}
          </a>
          {% endif %}
        {% endif %}
      </nav>
    {% endif %}

    <h1 class="text-2xl md:text-4xl font-bold mb-3 md:mb-4">{{ page.title }}</h1>

    <div class="flex flex-wrap items-center gap-2 md:gap-3 text-sm text-muted-foreground mb-4">
      <time datetime="{{ page.date | date_to_xmlschema }}" class="flex items-center gap-1">
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
        </svg>
        {{ page.date | date: "%Y년 %m월 %d일" }}
      </time>

      {% comment %} PACER 배지 {% endcomment %}
      {% if page.learning_framework.pacer_type %}
        {% assign pacer = site.data.learning_framework.pacer_types | where: "id", page.learning_framework.pacer_type | first %}
        {% if pacer %}
        <span class="inline-flex items-center gap-1 px-2.5 py-1 rounded-md pacer-badge pacer-{{ pacer.id }} text-xs font-medium" title="{{ pacer.strategy_description }}">
          {{ pacer.symbol }} {{ pacer.name_kr }}
        </span>
        {% endif %}
      {% endif %}
    </div>

    {% comment %} 학습 전략 힌트 {% endcomment %}
    {% if page.learning_framework.pacer_type %}
      {% assign pacer = site.data.learning_framework.pacer_types | where: "id", page.learning_framework.pacer_type | first %}
      {% if pacer %}
      <div class="learning-strategy bg-muted/50 rounded-lg p-3 md:p-4 mb-4 border-l-4 border-primary">
        <div class="flex items-start gap-2">
          <span class="text-lg">💡</span>
          <div>
            <div class="font-semibold text-sm mb-1">학습 전략: {{ pacer.strategy }}</div>
            <div class="text-xs md:text-sm text-muted-foreground">{{ pacer.strategy_description }}</div>
          </div>
        </div>
      </div>
      {% endif %}
    {% endif %}

    <!-- Tags -->
    {% if page.tags %}
    <div class="flex flex-wrap gap-2 mb-6">
      {% for tag in page.tags %}
      <a href="{{ '/tags/' | append: tag | append: '/' | relative_url }}" class="inline-flex items-center gap-1 px-2.5 py-1 text-xs rounded-md bg-muted text-foreground hover:bg-primary hover:text-primary-foreground transition-colors no-underline">
        <svg class="h-3.5 w-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"/>
        </svg>
        {{ tag }}
      </a>
      {% endfor %}
    </div>
    {% endif %}
  </header>

  <!-- Table of Contents -->
  {% if page.toc != false %}
  <nav class="toc mb-6 md:mb-8">
    <h2 class="text-lg md:text-xl font-bold mb-3 md:mb-4">목차</h2>
    <div id="toc-content"></div>
  </nav>
  {% endif %}

  <!-- Post Content -->
  <div class="prose prose-sm md:prose-lg max-w-none dark:prose-invert">
    {{ content }}
  </div>

  <!-- Post Navigation -->
  <nav class="mt-8 md:mt-12 pt-6 md:pt-8 border-t border-border">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
      {% if page.previous.url %}
      <a href="{{ page.previous.url | relative_url }}" class="bg-card rounded-lg border border-border p-4 md:p-6 hover:shadow-lg transition-all hover:border-primary no-underline">
        <div class="text-xs md:text-sm text-muted-foreground mb-1 md:mb-2">← 이전 글</div>
        <div class="text-sm md:text-base font-semibold text-foreground">{{ page.previous.title }}</div>
      </a>
      {% endif %}

      {% if page.next.url %}
      <a href="{{ page.next.url | relative_url }}" class="bg-card rounded-lg border border-border p-4 md:p-6 hover:shadow-lg transition-all hover:border-primary text-right no-underline">
        <div class="text-xs md:text-sm text-muted-foreground mb-1 md:mb-2">다음 글 →</div>
        <div class="text-sm md:text-base font-semibold text-foreground">{{ page.next.title }}</div>
      </a>
      {% endif %}
    </div>
  </nav>

  <!-- Comments (utterances) -->
  {% if page.comments != false %}
  <div class="mt-8 md:mt-12 pt-6 md:pt-8 border-t border-border">
    <h2 class="text-lg md:text-xl font-bold mb-4 md:mb-6">💬 댓글</h2>
    <div id="utterances-container"></div>
    <script>
      // 다크모드에 따라 utterances 테마 자동 변경
      function loadUtterances() {
        const theme = document.documentElement.classList.contains('dark')
          ? 'github-dark'
          : 'github-light';

        const script = document.createElement('script');
        script.src = 'https://utteranc.es/client.js';
        script.setAttribute('repo', '1di0t/1di0t.github.io');
        script.setAttribute('issue-term', 'pathname');
        script.setAttribute('label', 'comments');
        script.setAttribute('theme', theme);
        script.setAttribute('crossorigin', 'anonymous');
        script.async = true;

        document.getElementById('utterances-container').appendChild(script);
      }

      // 페이지 로드 시 utterances 로드
      loadUtterances();

      // 다크모드 토글 시 utterances 테마 변경
      const themeToggle = document.querySelector('[data-theme-toggle]');
      if (themeToggle) {
        themeToggle.addEventListener('click', function() {
          setTimeout(() => {
            const utterances = document.querySelector('.utterances-frame');
            if (utterances) {
              const theme = document.documentElement.classList.contains('dark')
                ? 'github-dark'
                : 'github-light';
              const message = {
                type: 'set-theme',
                theme: theme
              };
              utterances.contentWindow.postMessage(message, 'https://utteranc.es');
            }
          }, 100);
        });
      }
    </script>
  </div>
  {% endif %}
</article>
