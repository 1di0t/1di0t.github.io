{% comment %}
재사용 가능한 포스트 카드 컴포넌트
- post: 포스트 객체 (필수)
- is_large: 큰 버전 여부 (선택, for bento grid)
{% endcomment %}

{% assign post = include.post %}
{% assign is_large = include.is_large %}

<a href="{{ post.url | relative_url }}" class="block group no-underline">
  <article class="h-full flex flex-col bg-card rounded-2xl border border-border p-6 md:p-8 transition-all duration-300 hover:shadow-warm-lg hover:border-primary/50">
    
    <!-- 메타 정보 -->
    <div class="flex flex-wrap items-center gap-3 text-xs mb-4">
      {% if post.parent_category %}
        {% assign parent = site.data.parent_categories.parent_categories | where: "id", post.parent_category | first %}
        {% if parent %}
        <span class="font-semibold text-primary">{{ parent.name_kr }}</span>
        {% endif %}
      {% endif %}
      <time datetime="{{ post.date | date_to_xmlschema }}" class="text-muted-foreground ml-auto">
        {{ post.date | date: "%Y년 %m월 %d일" }}
      </time>
    </div>

    <!-- 제목 -->
    <h2 class="font-serif text-xl md:text-2xl font-bold text-foreground mb-3 transition-colors group-hover:text-primary {% if is_large %}md:text-3xl{% endif %}">
      {{ post.title }}
    </h2>

    <!-- 요약 -->
    {% if post.excerpt %}
    <p class="text-sm md:text-base text-muted-foreground leading-relaxed mb-4 flex-grow line-clamp-3">
      {{ post.excerpt | strip_html | truncate: 150 }}
    </p>
    {% endif %}

    <!-- 태그 및 이동 아이콘 -->
    <div class="mt-auto flex items-end justify-between">
      {% if post.tags %}
      <div class="flex flex-wrap gap-2">
        {% for tag in post.tags limit:3 %}
        <span class="inline-block px-2.5 py-1 rounded-md bg-muted text-muted-foreground text-xs">
          {{ tag }}
        </span>
        {% endfor %}
      </div>
      {% endif %}

      <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-x-[-10px] group-hover:translate-x-0 ml-auto">
        <svg class="h-6 w-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
        </svg>
      </div>
    </div>

  </article>
</a>
